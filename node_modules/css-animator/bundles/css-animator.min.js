var __decorate=this&&this.__decorate||function(t,e,i,n){var r,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(3>o?r(s):o>3?r(e,i,s):r(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s},__metadata=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},__param=this&&this.__param||function(t,e){return function(i,n){e(i,n,t)}};System.register("css-animator/contracts/animation_options",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){}}}),System.register("css-animator/contracts/element_props",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){}}}),System.register("css-animator/contracts/listener_ref",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){}}}),System.register("css-animator/contracts/timeout_ref",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){}}}),System.register("css-animator/contracts",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){}}}),System.register("css-animator/builder/animation_builder",[],function(t,e){"use strict";var i;e&&e.id;return{setters:[],execute:function(){i=function(){function AnimationBuilder(){this._type="bounce",this._fillMode="none",this._timingFunction="ease",this._playState="running",this._direction="normal",this._duration=1e3,this._delay=0,this._iterationCount=1,this._animationClasses=[],this._classHistory=[],this._listeners=[],this._timeouts=[],this._keepFlow=!1}return AnimationBuilder.prototype.show=function(t){return t.setAttribute("hidden",""),this.animate(t,"show")},AnimationBuilder.prototype.hide=function(t){return this.animate(t,"hide")},AnimationBuilder.prototype.stop=function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),i===!0&&(this.removeTimeoutsForElement(t,!0,!0),this.removeListenersForElement(t,!0,!0)),e===!0&&this.resetElement(t),Promise.resolve(t)},AnimationBuilder.prototype.animate=function(t,e){var i=this;return void 0===e&&(e="default"),new Promise(function(n,r){i.removeTimeoutsForElement(t,!0,!0);var o;o=setTimeout(function(){i.removeTimeoutsForElement(t,!0,!1),i.removeListenersForElement(t,!0,!0),i.resetElement(t);var o=i.animationEndEvent(t),s=i.animationStartEvent(t);t.removeAttribute("hidden"),t.style.display="initial";var a=i.getElementInitialProperties(t);i.pinElement(t,a),i.applyAllProperties(t),i.applyCssClasses(t),t.classList.add("animated-"+e);var u;t.addEventListener(s,u=function(){return t.removeEventListener(s,u),u});var l;t.addEventListener(o,l=function(){return t.removeEventListener(o,l),i.removeListenersForElement(t,!1),i.resetElement(t),t.classList.remove("animated-"+e),"hide"===e&&(t.setAttribute("hidden",""),t.style.display=null),n(t),l}),i._listeners.push({element:t,eventName:s,handler:u}),i._listeners.push({element:t,eventName:o,handler:l,reject:r})},i._delay),i._timeouts.push({element:t,timeout:o,reject:r})})},AnimationBuilder.prototype.addAnimationClass=function(t){return-1===this._animationClasses.indexOf(t)&&this._animationClasses.push(t),this},AnimationBuilder.prototype.removeAnimationClass=function(t){var e=this._animationClasses.indexOf(t);return-1!==e&&this._animationClasses.splice(e,1),this},AnimationBuilder.prototype.setOptions=function(t){var e;for(var i in t)this.checkValue(t[i])&&(e="set"+i.charAt(0).toUpperCase()+i.slice(1),"function"==typeof this[e]&&this[e](t[i]));return this},AnimationBuilder.prototype.setType=function(t){return-1===this._classHistory.indexOf(t)&&this._classHistory.push(t),this._type=t,this},AnimationBuilder.prototype.setFillMode=function(t){return this._fillMode=t,this},AnimationBuilder.prototype.setTimingFunction=function(t){return this._timingFunction=t,this},AnimationBuilder.prototype.setPlayState=function(t){return this._playState=t,this},AnimationBuilder.prototype.setDirection=function(t){return this._direction=t,this},AnimationBuilder.prototype.setDuration=function(t){return this._duration=t,this},AnimationBuilder.prototype.setDelay=function(t){return this._delay=t,this},AnimationBuilder.prototype.setIterationCount=function(t){return this._iterationCount=t,this},AnimationBuilder.prototype.applyAllProperties=function(t){return this.applyFillMode(t),this.applyTimingFunction(t),this.applyPlayState(t),this.applyDirection(t),this.applyDuration(t),this.applyIterationCount(t),this},AnimationBuilder.prototype.applyFillMode=function(t){return this.applyStyle(t,"animation-fill-mode",this._fillMode?this._fillMode:""),this},AnimationBuilder.prototype.applyTimingFunction=function(t){return this.applyStyle(t,"animation-timing-function",this._timingFunction?this._timingFunction:""),this},AnimationBuilder.prototype.applyPlayState=function(t){return this.applyStyle(t,"animation-play-state",this._playState?this._playState:""),this},AnimationBuilder.prototype.applyDirection=function(t){return this.applyStyle(t,"animation-direction",this._direction?this._direction:""),this},AnimationBuilder.prototype.applyDuration=function(t){return this.applyStyle(t,"animation-duration",this._duration?this._duration+"ms":""),this},AnimationBuilder.prototype.applyDelay=function(t){return this.applyStyle(t,"animation-delay",this._delay?this._delay+"ms":""),this},AnimationBuilder.prototype.applyIterationCount=function(t){return this.applyStyle(t,"animation-iteration-count",this._iterationCount?this._iterationCount:""),this},AnimationBuilder.prototype.setKeepFlow=function(t){return this._keepFlow=t,this},Object.defineProperty(AnimationBuilder.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(AnimationBuilder.prototype,"fillMode",{get:function(){return this._fillMode},enumerable:!0,configurable:!0}),Object.defineProperty(AnimationBuilder.prototype,"timingFunction",{get:function(){return this._timingFunction},enumerable:!0,configurable:!0}),Object.defineProperty(AnimationBuilder.prototype,"playState",{get:function(){return this._playState},enumerable:!0,configurable:!0}),Object.defineProperty(AnimationBuilder.prototype,"direction",{get:function(){return this._direction},enumerable:!0,configurable:!0}),Object.defineProperty(AnimationBuilder.prototype,"delay",{get:function(){return this._delay},enumerable:!0,configurable:!0}),Object.defineProperty(AnimationBuilder.prototype,"iterationCount",{get:function(){return this._iterationCount},enumerable:!0,configurable:!0}),Object.defineProperty(AnimationBuilder.prototype,"keepFlow",{get:function(){return this._keepFlow},enumerable:!0,configurable:!0}),AnimationBuilder.prototype.applyStyle=function(t,e,i,n){return void 0===n&&(n=!0),n===!0&&(t.style["-o-"+e]=i,t.style["-ms-"+e]=i,t.style["-moz-"+e]=i,t.style["-webkit-"+e]=i),t.style[e]=i,this},AnimationBuilder.prototype.removeListenersForElement=function(t,e,i){var n=this;void 0===e&&(e=!0),void 0===i&&(i=!1);for(var r=[],o=0;o<this._listeners.length;o++)if(this._listeners[o].element===t){var s=this._listeners[o];e&&s.element.removeEventListener(s.eventName,s.handler),i&&s.reject&&s.reject("animation_aborted"),r.push(o)}r.forEach(function(t){n._listeners.splice(t,1)})},AnimationBuilder.prototype.removeTimeoutsForElement=function(t,e,i){var n=this;void 0===e&&(e=!0),void 0===i&&(i=!1);for(var r=[],o=0;o<this._timeouts.length;o++)if(this._timeouts[o].element===t){var s=this._timeouts[o];e&&clearTimeout(s.timeout),i&&s.reject&&s.reject("animation_aborted"),r.push(o)}r.forEach(function(t){n._timeouts.splice(t,1)})},AnimationBuilder.prototype.resetElement=function(t){this.removeCssClasses(t);var e=JSON.parse(t.getAttribute("data-reset-styles"));return t.style.bottom=this.getValueOrDefault(e,"bottom",null),t.style.height=this.getValueOrDefault(e,"height",null),t.style.left=this.getValueOrDefault(e,"left",null),t.style.right=this.getValueOrDefault(e,"right",null),t.style.top=this.getValueOrDefault(e,"top",null),t.style.width=this.getValueOrDefault(e,"width",null),t.style.position=this.getValueOrDefault(e,"position",null),t.style.display=this.getValueOrDefault(e,"display",null),t.removeAttribute("data-reset-styles"),this},AnimationBuilder.prototype.animationEndEvent=function(t){var e,i=document.createElement("endAnimationElement");e={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(var n in e)if(void 0!==i.style[n])return e[n];return null},AnimationBuilder.prototype.animationStartEvent=function(t){var e,i=document.createElement("startAnimationElement");e={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"animationstart",WebkitAnimation:"webkitAnimationStart"};for(var n in e)if(void 0!==i.style[n])return e[n];return null},AnimationBuilder.prototype.applyCssClasses=function(t,e){return void 0===e&&(e=!0),this._animationClasses.forEach(function(i){e===!0?t.classList.add(i):t.classList.remove(i)}),e===!0?(t.classList.add("animated"),t.classList.add(this._type)):(t.classList.remove("animated"),t.classList.remove("animated-show"),t.classList.remove("animated-hide"),t.classList.remove(this._type)),e!==!0&&this._classHistory.forEach(function(e){t.classList.remove(e)}),this},AnimationBuilder.prototype.removeCssClasses=function(t){return this.applyCssClasses(t,!1),this},AnimationBuilder.prototype.getElementPosition=function(t){return t.getBoundingClientRect()},AnimationBuilder.prototype.getElementInitialProperties=function(t){return{position:t.style.position,display:t.style.display,bottom:t.style.bottom,height:t.style.height,left:t.style.left,right:t.style.right,top:t.style.top,width:t.style.width}},AnimationBuilder.prototype.pinElement=function(t,e){var i=this.getElementPosition(t);t.setAttribute("data-reset-styles",JSON.stringify(e)),this._keepFlow||(t.style.bottom=i.bottom+"px",t.style.height=i.height+"px",t.style.left=i.left+"px",t.style.right=i.right+"px",t.style.top=i.top+"px",t.style.width=i.width+"px",t.style.position="fixed",t.style.display="inline-block")},AnimationBuilder.prototype.checkValue=function(t){return 0===t||!!t},AnimationBuilder.prototype.getValueOrDefault=function(t,e,i){return void 0===i&&(i=""),t&&this.checkValue(t[e])?t[e]:i},AnimationBuilder}(),t("AnimationBuilder",i)}}}),System.register("css-animator/builder",["css-animator/builder/animation_builder"],function(t,e){"use strict";function exportStar_1(e){var i={};for(var n in e)"default"!==n&&(i[n]=e[n]);t(i)}e&&e.id;return{setters:[function(t){exportStar_1(t)}],execute:function(){}}}),System.register("css-animator/modules/animation.service",["@angular/core","css-animator/builder"],function(t,e){"use strict";var i,n,r;e&&e.id;return{setters:[function(t){i=t},function(t){n=t}],execute:function(){r=function(){function AnimationService(){}return AnimationService.prototype.builder=function(){return new n.AnimationBuilder},AnimationService=__decorate([i.Injectable(),__metadata("design:paramtypes",[])],AnimationService)}(),t("AnimationService",r)}}}),System.register("css-animator/modules/animates.directive",["@angular/core","css-animator/modules/animation.service"],function(t,e){"use strict";var i,n,r;e&&e.id;return{setters:[function(t){i=t},function(t){n=t}],execute:function(){r=function(){function AnimatesDirective(t,e){this._elementRef=t,this._animationBuilder=e.builder()}return Object.defineProperty(AnimatesDirective.prototype,"animates",{set:function(t){this._defaultOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(AnimatesDirective.prototype,"animatesOnInit",{set:function(t){this._initOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(AnimatesDirective.prototype,"animationBuilder",{get:function(){return this._animationBuilder},enumerable:!0,configurable:!0}),AnimatesDirective.prototype.ngOnInit=function(){this._initOptions&&this._animationBuilder.setOptions(this._initOptions).show(this._elementRef.nativeElement).then(function(t){return t},function(t){})},AnimatesDirective.prototype.start=function(t){return this.setOptions(t),this._animationBuilder.animate(this._elementRef.nativeElement).then(function(t){return t},function(t){})},AnimatesDirective.prototype.hide=function(t){return this.setOptions(t),this._animationBuilder.setOptions(t).hide(this._elementRef.nativeElement).then(function(t){return t},function(t){})},AnimatesDirective.prototype.show=function(t){return this.setOptions(t),this._animationBuilder.show(this._elementRef.nativeElement).then(function(t){return t},function(t){})},AnimatesDirective.prototype.animate=function(){return this._defaultOptions?this._animationBuilder.setOptions(this._defaultOptions).animate(this._elementRef.nativeElement).then(function(t){return t},function(t){}):void 0},AnimatesDirective.prototype.pause=function(){this._animationBuilder.setPlayState("paused").applyPlayState(this._elementRef.nativeElement)},AnimatesDirective.prototype.resume=function(){this._animationBuilder.setPlayState("running").applyPlayState(this._elementRef.nativeElement)},AnimatesDirective.prototype.toggle=function(){this._animationBuilder.setPlayState("running"===this._animationBuilder.playState?"paused":"running").applyPlayState(this._elementRef.nativeElement)},AnimatesDirective.prototype.stop=function(){this._animationBuilder.stop(this._elementRef.nativeElement).then(function(t){return t},function(t){})},AnimatesDirective.prototype.setOptions=function(t){return t?void this._animationBuilder.setOptions(t):void this._animationBuilder.setOptions(this._defaultOptions)},AnimatesDirective=__decorate([i.Directive({selector:"[animates]",exportAs:"animates",inputs:["animates","animatesOnInit"]}),__param(0,i.Inject(i.ElementRef)),__param(1,i.Inject(n.AnimationService)),__metadata("design:paramtypes",[i.ElementRef,n.AnimationService])],AnimatesDirective)}(),t("AnimatesDirective",r)}}}),System.register("css-animator/modules",["css-animator/modules/animation.service","css-animator/modules/animates.directive"],function(t,e){"use strict";function exportStar_2(e){var i={};for(var n in e)"default"!==n&&(i[n]=e[n]);t(i)}e&&e.id;return{setters:[function(t){exportStar_2(t)},function(t){exportStar_2(t)}],execute:function(){}}}),System.register("css-animator/index",["css-animator/builder","css-animator/modules"],function(t,e){"use strict";function exportStar_3(e){var i={};for(var n in e)"default"!==n&&(i[n]=e[n]);t(i)}e&&e.id;return{setters:[function(t){exportStar_3(t)},function(t){exportStar_3(t)}],execute:function(){}}}),System.register("css-animator",["css-animator/index"],function(t,e){"use strict";function exportStar_4(e){var i={};for(var n in e)"default"!==n&&(i[n]=e[n]);t(i)}e&&e.id;return{setters:[function(t){exportStar_4(t)}],execute:function(){}}}),System.register("index",["css-animator/index"],function(t,e){"use strict";function exportStar_5(e){var i={};for(var n in e)"default"!==n&&(i[n]=e[n]);t(i)}e&&e.id;return{setters:[function(t){exportStar_5(t)}],execute:function(){}}});